<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Wed Feb 07 14:27:58 GMT 2018 -->
<title>GlobalRasterTools</title>
<meta name="date" content="2018-02-07">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="GlobalRasterTools";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":9,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/mrc/GlobalRasterTools/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/mrc/GlobalRasterTools/GlobalRasterTools.html" target="_top">Frames</a></li>
<li><a href="GlobalRasterTools.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mrc.GlobalRasterTools</div>
<h2 title="Class GlobalRasterTools" class="title">Class GlobalRasterTools</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.mrc.GlobalRasterTools.GlobalRasterTools</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">GlobalRasterTools</span>
extends java.lang.Object</pre>
<div class="block">This class contains a set of methods for handling rasteration of landscan-like population datasets, with ESRI
 (GADM) Shapefiles, including rasterising with contention-handling, look-up, and finding centroids. It uses
 Java's polygon filling algorithms, which seem fairly efficient - at the cost of using a lot of RAM.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.1</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a></span></code>
<div class="block">A polygon with clockwise/anti-clockwise direction of points recorded.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#HEIGHT">HEIGHT</a></span></code>
<div class="block">The height of the global raster in pixels</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#INT_SCALER">INT_SCALER</a></span></code>
<div class="block">The internal resolution used for rasterising polygons in pixels per degree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#map">map</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#RESOLUTION">RESOLUTION</a></span></code>
<div class="block">The expected resolution of population data in pixels per degree.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#unit_names">unit_names</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#unit_numbers">unit_numbers</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#unit_shapes">unit_shapes</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#WIDTH">WIDTH</a></span></code>
<div class="block">The width of the global raster in pixels</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#GlobalRasterTools--">GlobalRasterTools</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#clearBuffer--">clearBuffer</a></span>()</code>
<div class="block">Clear image buffer and garbage collect.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#clearPolygons--">clearPolygons</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#downloadShapeFiles-java.lang.String-">downloadShapeFiles</a></span>(java.lang.String&nbsp;folder)</code>
<div class="block">Download a full set of Shapefiles from GADM</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#getCentroid-int-boolean-int:A:A-">getCentroid</a></span>(int&nbsp;id,
           boolean&nbsp;pop_weighted,
           int[][]&nbsp;pop)</code>
<div class="block">Calculate the centroid, either population-weighted or not, of a unit.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#getNearest_ints-int-int-int:A:A-int-">getNearest_ints</a></span>(int&nbsp;i,
               int&nbsp;j,
               int[][]&nbsp;unit_ids,
               int&nbsp;null_unit)</code>
<div class="block">Find the nearest unit_id to a given co-ordinate.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#getNearest-double-double-int:A:A-int-">getNearest</a></span>(double&nbsp;lon,
          double&nbsp;lat,
          int[][]&nbsp;unit_ids,
          int&nbsp;null_unit)</code>
<div class="block">Find the nearest unit_id to a given longitude and latitude.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#initBuffer--">initBuffer</a></span>()</code>
<div class="block">Prepare black canvas for the polygons to be rasteriseed onto.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#loadMapFile-java.lang.String-">loadMapFile</a></span>(java.lang.String&nbsp;file)</code>
<div class="block">Load a previously saved raster map file</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#loadPolygonFolder-java.lang.String-int-">loadPolygonFolder</a></span>(java.lang.String&nbsp;folder,
                 int&nbsp;max_level)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#loadPolygonFolder-java.lang.String-int-java.util.List-">loadPolygonFolder</a></span>(java.lang.String&nbsp;folder,
                 int&nbsp;max_level,
                 java.util.List&lt;java.lang.String&gt;&nbsp;countries)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#loadPolygons-int-java.lang.String-java.lang.String-java.util.List-">loadPolygons</a></span>(int&nbsp;level,
            java.lang.String&nbsp;shpFile,
            java.lang.String&nbsp;dbfFile,
            java.util.List&lt;java.lang.String&gt;&nbsp;countries)</code>
<div class="block">Load ESRI shapefiles at a given admin unit level</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#loadUnits-java.lang.String-">loadUnits</a></span>(java.lang.String&nbsp;file)</code>
<div class="block">Load the meta-data about admin units from a file</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#makeMap--">makeMap</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#rasterisePoly-java.util.ArrayList-int:A:A-int:A:A-java.util.ArrayList-int-int-">rasterisePoly</a></span>(java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&nbsp;polys,
             int[][]&nbsp;unit_ids,
             int[][]&nbsp;contention_indexes,
             java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Integer&gt;&gt;&nbsp;contentions,
             int&nbsp;code,
             int&nbsp;null_unit)</code>
<div class="block">Rasterise one admin unit (ie, one list of polygons)</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#resolveContentions-java.util.ArrayList-int:A:A-int:A:A-java.util.ArrayList-">resolveContentions</a></span>(java.util.ArrayList&lt;java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&gt;&nbsp;all_polygons,
                  int[][]&nbsp;map,
                  int[][]&nbsp;contention_indexes,
                  java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Integer&gt;&gt;&nbsp;contentions)</code>
<div class="block">Resolve all the contentious pixel issues in the rasterisation process.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#saveMapFile-java.lang.String-">saveMapFile</a></span>(java.lang.String&nbsp;file)</code>
<div class="block">Save the current raster map file</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.html#saveUnits-java.lang.String-">saveUnits</a></span>(java.lang.String&nbsp;file)</code>
<div class="block">Save the meta-data about admin units to a file</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="unit_names">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unit_names</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.String&gt; unit_names</pre>
</li>
</ul>
<a name="unit_numbers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unit_numbers</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.lang.String&gt; unit_numbers</pre>
</li>
</ul>
<a name="unit_shapes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unit_shapes</h4>
<pre>public&nbsp;java.util.ArrayList&lt;java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&gt; unit_shapes</pre>
</li>
</ul>
<a name="map">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre>public&nbsp;int[][] map</pre>
</li>
</ul>
<a name="WIDTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WIDTH</h4>
<pre>public static final&nbsp;int WIDTH</pre>
<div class="block">The width of the global raster in pixels</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.mrc.GlobalRasterTools.GlobalRasterTools.WIDTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="HEIGHT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HEIGHT</h4>
<pre>public static final&nbsp;int HEIGHT</pre>
<div class="block">The height of the global raster in pixels</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.mrc.GlobalRasterTools.GlobalRasterTools.HEIGHT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RESOLUTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RESOLUTION</h4>
<pre>public static final&nbsp;double RESOLUTION</pre>
<div class="block">The expected resolution of population data in pixels per degree.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.mrc.GlobalRasterTools.GlobalRasterTools.RESOLUTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INT_SCALER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INT_SCALER</h4>
<pre>public static final&nbsp;int INT_SCALER</pre>
<div class="block">The internal resolution used for rasterising polygons in pixels per degree. This is used partly to reduce the size of really detailed polygons to something
 more manageable, and also is the resolution used for resolving contention, where the shape with the most area is assumed to "own" that pixel.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.mrc.GlobalRasterTools.GlobalRasterTools.INT_SCALER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="GlobalRasterTools--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>GlobalRasterTools</h4>
<pre>public&nbsp;GlobalRasterTools()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clearBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearBuffer</h4>
<pre>public&nbsp;void&nbsp;clearBuffer()</pre>
<div class="block">Clear image buffer and garbage collect.</div>
</li>
</ul>
<a name="initBuffer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initBuffer</h4>
<pre>public&nbsp;void&nbsp;initBuffer()</pre>
<div class="block">Prepare black canvas for the polygons to be rasteriseed onto.</div>
</li>
</ul>
<a name="loadPolygonFolder-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPolygonFolder</h4>
<pre>public&nbsp;void&nbsp;loadPolygonFolder(java.lang.String&nbsp;folder,
                              int&nbsp;max_level)
                       throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="loadPolygonFolder-java.lang.String-int-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPolygonFolder</h4>
<pre>public&nbsp;void&nbsp;loadPolygonFolder(java.lang.String&nbsp;folder,
                              int&nbsp;max_level,
                              java.util.List&lt;java.lang.String&gt;&nbsp;countries)
                       throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="clearPolygons--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearPolygons</h4>
<pre>public&nbsp;void&nbsp;clearPolygons()</pre>
</li>
</ul>
<a name="loadPolygons-int-java.lang.String-java.lang.String-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadPolygons</h4>
<pre>public&nbsp;void&nbsp;loadPolygons(int&nbsp;level,
                         java.lang.String&nbsp;shpFile,
                         java.lang.String&nbsp;dbfFile,
                         java.util.List&lt;java.lang.String&gt;&nbsp;countries)
                  throws java.lang.Exception</pre>
<div class="block">Load ESRI shapefiles at a given admin unit level
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>level</code> - The maximum admin unit-level for which to load shapes.</dd>
<dd><code>shpFile</code> - Path to the .shp file to load</dd>
<dd><code>dbfFile</code> - Path to the .dbf file to load</dd>
<dd><code>countries</code> - List of GADM country names to filter by. (Or set to null for no filter).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - for any file-io related exceptions.</dd>
</dl>
</li>
</ul>
<a name="rasterisePoly-java.util.ArrayList-int:A:A-int:A:A-java.util.ArrayList-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rasterisePoly</h4>
<pre>public&nbsp;void&nbsp;rasterisePoly(java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&nbsp;polys,
                          int[][]&nbsp;unit_ids,
                          int[][]&nbsp;contention_indexes,
                          java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Integer&gt;&gt;&nbsp;contentions,
                          int&nbsp;code,
                          int&nbsp;null_unit)</pre>
<div class="block">Rasterise one admin unit (ie, one list of polygons)
 <p>
 Longer description. If there were any, it would be
 here.
 <p>
 And even more explanations to follow in consecutive
 paragraphs separated by HTML paragraph breaks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>polys</code> - The list of polygons to rasterise</dd>
<dd><code>unit_ids</code> - Id of polygon in each pixel of final image.</dd>
<dd><code>contention_indexes</code> - Pointer into contentions array, if this pixel is claimed by more than one admin unit.</dd>
<dd><code>contentions</code> - For each pixel where contention occurs, list the unit ids that were claiming that pixel.</dd>
<dd><code>code</code> - The id of the admin unit being rasterised</dd>
<dd><code>null_unit</code> - The id that represents NULL (pixels which no shape file has claimed)</dd>
</dl>
</li>
</ul>
<a name="makeMap--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeMap</h4>
<pre>public&nbsp;void&nbsp;makeMap()
             throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="resolveContentions-java.util.ArrayList-int:A:A-int:A:A-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resolveContentions</h4>
<pre>public&nbsp;void&nbsp;resolveContentions(java.util.ArrayList&lt;java.util.ArrayList&lt;<a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools">GlobalRasterTools.DPolygon</a>&gt;&gt;&nbsp;all_polygons,
                               int[][]&nbsp;map,
                               int[][]&nbsp;contention_indexes,
                               java.util.ArrayList&lt;java.util.ArrayList&lt;java.lang.Integer&gt;&gt;&nbsp;contentions)</pre>
<div class="block">Resolve all the contentious pixel issues in the rasterisation process.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>all_polygons</code> - The list of all shapes.</dd>
<dd><code>map</code> - The 2-D array representing the map image</dd>
<dd><code>contention_indexes</code> - The record where all contentious pixels were recorded</dd>
<dd><code>contentions</code> - For each pixel where contention occurs, list the unit ids that were claiming that pixel.</dd>
</dl>
</li>
</ul>
<a name="getNearest_ints-int-int-int:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNearest_ints</h4>
<pre>public static&nbsp;int&nbsp;getNearest_ints(int&nbsp;i,
                                  int&nbsp;j,
                                  int[][]&nbsp;unit_ids,
                                  int&nbsp;null_unit)</pre>
<div class="block">Find the nearest unit_id to a given co-ordinate.
 <p>
 Use this when raster population data claims there are people in a certain pixel, yet no shapefile
 contains that pixel. This is frequently the case on boundaries with coastlines.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - horizontal co-ordinate</dd>
<dd><code>j</code> - vertical co-ordinate</dd>
<dd><code>unit_ids</code> - the rasterised array of ids.</dd>
<dd><code>null_unit</code> - the id that represents "no unit here"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the nearest non-null unit id</dd>
</dl>
</li>
</ul>
<a name="getNearest-double-double-int:A:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNearest</h4>
<pre>public&nbsp;int&nbsp;getNearest(double&nbsp;lon,
                      double&nbsp;lat,
                      int[][]&nbsp;unit_ids,
                      int&nbsp;null_unit)</pre>
<div class="block">Find the nearest unit_id to a given longitude and latitude.
 <p>
 Use this when raster population data claims there are people in a certain pixel, yet no shapefile
 contains that pixel. This is frequently the case on boundaries with coastlines.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lon</code> - longitude</dd>
<dd><code>lat</code> - latitude</dd>
<dd><code>unit_ids</code> - the rasterised array of ids.</dd>
<dd><code>null_unit</code> - the id that represents "no unit here"</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the id of the nearest non-null unit id</dd>
</dl>
</li>
</ul>
<a name="getCentroid-int-boolean-int:A:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCentroid</h4>
<pre>public&nbsp;double[]&nbsp;getCentroid(int&nbsp;id,
                            boolean&nbsp;pop_weighted,
                            int[][]&nbsp;pop)</pre>
<div class="block">Calculate the centroid, either population-weighted or not, of a unit.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - id of the unit for which to find centroid</dd>
<dd><code>pop_weighted</code> - true, if you want population-weighted centroid, false for "normalised population" weighted.</dd>
<dd><code>pop</code> - rasterised population</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of three doubles: [0] longitude of centroid, [1] latitude of centroid, [2] The population, or the number of cells in the centroid, depending on pop_weighted.</dd>
</dl>
</li>
</ul>
<a name="loadMapFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadMapFile</h4>
<pre>public&nbsp;void&nbsp;loadMapFile(java.lang.String&nbsp;file)
                 throws java.lang.Exception</pre>
<div class="block">Load a previously saved raster map file
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the filename</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any exception occurs.</dd>
</dl>
</li>
</ul>
<a name="saveMapFile-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveMapFile</h4>
<pre>public&nbsp;void&nbsp;saveMapFile(java.lang.String&nbsp;file)
                 throws java.lang.Exception</pre>
<div class="block">Save the current raster map file
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the filename</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any exception occurs.</dd>
</dl>
</li>
</ul>
<a name="saveUnits-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveUnits</h4>
<pre>public&nbsp;void&nbsp;saveUnits(java.lang.String&nbsp;file)
               throws java.lang.Exception</pre>
<div class="block">Save the meta-data about admin units to a file
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the filename</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any exception occurs.</dd>
</dl>
</li>
</ul>
<a name="loadUnits-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadUnits</h4>
<pre>public&nbsp;void&nbsp;loadUnits(java.lang.String&nbsp;file)
               throws java.lang.Exception</pre>
<div class="block">Load the meta-data about admin units from a file
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the filename</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any exception occurs.</dd>
</dl>
</li>
</ul>
<a name="downloadShapeFiles-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>downloadShapeFiles</h4>
<pre>public&nbsp;void&nbsp;downloadShapeFiles(java.lang.String&nbsp;folder)
                        throws java.lang.Exception</pre>
<div class="block">Download a full set of Shapefiles from GADM
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>folder</code> - folder to download into</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if any exception occurs.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/mrc/GlobalRasterTools/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/mrc/GlobalRasterTools/GlobalRasterTools.DPolygon.html" title="class in com.mrc.GlobalRasterTools"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/mrc/GlobalRasterTools/GlobalRasterTools.html" target="_top">Frames</a></li>
<li><a href="GlobalRasterTools.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
